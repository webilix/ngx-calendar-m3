<ngx-calendar-date [value]="value" [minDate]="minDate" [maxDate]="maxDate" (onChange)="setDate($event)"></ngx-calendar-date>
<div class="time">
    <div class="date">{{ value | ngxHelperDate }}</div>

    @if (value) {
    <button mat-button type="button" class="value" [matMenuTriggerFor]="minuteMenu" [disabled]="!value">{{ minute }}</button>
    <mat-menu #minuteMenu="matMenu" [yPosition]="'above'" class="ngx-calendar-m3-moment-minute">
        @for (m of minutes; track $index) {
        <button
            mat-menu-item
            (click)="setMinute(m)"
            [disabled]="!isActiveMinute(m) || m === minute"
            [class.selected]="m === minute"
        >
            <span class="minute" [style.color]="+m % 5 === 0 ? 'var(--secondary)' : ''">{{ m }}</span>
        </button>
        }
    </mat-menu>

    <div class="colon" [style.opacity]="value ? 1 : 0.5">:</div>

    <button mat-button type="button" class="value" [matMenuTriggerFor]="hourMenu" [disabled]="!value">{{ hour }}</button>
    <mat-menu #hourMenu="matMenu" [yPosition]="'above'" class="ngx-calendar-m3-moment-hour">
        @for (h of hours; track $index) {
        <button mat-menu-item (click)="setHour(h)" [disabled]="!isActiveHour(h) || h === hour" [class.selected]="h === hour">
            <span class="hour">{{ h }}</span>
        </button>
        }
    </mat-menu>
    }

    <button mat-button type="button" class="submit" (click)="onSubmit()" [disabled]="!canSubmit">تایید</button>
</div>
